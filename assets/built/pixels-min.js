$(function(){const e={name:"letter",el:".js-card-url"},n={load:"load"};let t={};const o=new URL(location.href),c=o.searchParams.get("s")||"direct",i=o.pathname.replace(/\/(.+)\//,"$1");let l=window.scrollY,a=(window.innerHeight,$("article").height(),!1);const r=$(".post-full img");function s(){let e=[].slice.call(arguments);const n=e.pop(),o=e.join("_"),c="https://improving.duckduckgo.com/t/blog_"+o;if(!(n&&n.once&&t[o]))if(n&&n.once&&(t[o]=!0),"sendBeacon"in navigator)navigator.sendBeacon(c);else{$("<img>").attr("src",c)}}function d(){r.each(function(e){(function(e,n){n=n||!1;const t=e.getBoundingClientRect(),o=t.top,c=t.left,i=t.bottom,l=t.right,a=window.innerHeight,r=window.innerWidth;return n?(o>0&&o<a||i>0&&i<a)&&(c>0&&c<r||l>0&&l<r):o>=0&&c>=0&&i<=a&&l<=r})(this,!0)&&s("image",c,i,e+1+"of"+r.length,{once:!0})}),a=!1}s(n.load,c,i,{once:!0}),window.addEventListener("scroll",function(){l=window.scrollY,a||requestAnimationFrame(d),a=!0},{passive:!0}),d(),$(".js-newsletter").on("submit",function(n){$(".js-newsletter-checkbox:checked").length>0&&s(e.name,c,i,{once:!0})}),$("article a").click(function(){const e=this.href.replace(/^\/|\/$/,"").replace(/[^a-z0-9_-]+/gi,"-").replace(/_/g,"-");s("link",c,i,e,{once:!1})}),$(".js-floating-header-atb").click(function(){s("atb",c,i,{once:!0})})});